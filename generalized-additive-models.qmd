# 广义可加模型 {#sec-generalized-additive-models}

## 频率派

```{r}
data(mcycle, package = "MASS")

library(mgcv)
fgam <- gam(accel ~ s(times), data = mcycle, method = "REML")
summary(fgam)
```

```{r}
gam.vcomp(fgam, rescale = FALSE)
```

```{r}
# plot(fgam)
```

## 贝叶斯派

```{r}
library(cmdstanr)

# library(brms)
# bgam <- brm(bf(accel ~ s(times)),
#   data = mcycle, family = gaussian(), cores = 2, seed = 20232023,
#   iter = 4000, warmup = 1000, thin = 10, refresh = 0,
#   control = list(adapt_delta = 0.99)
# )
# summary(bgam)
# ms_bgam <- marginal_smooths(bgam)
# plot(ms_bgam)
```
