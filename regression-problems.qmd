# 回归问题 {#sec-regression-problems}

```{r}
#| message: false
# library(pls)   # pcr 主成分回归 plsr 偏最小二乘回归
library(glmnet)  # 惩罚回归
library(kernlab) # 基于核的支持向量机 ksvm
library(nnet)    # 神经网络 nnet
library(rpart)   # 决策树
library(randomForest)  # 随机森林
library(xgboost)       # 梯度提升
library(lattice)
```

本章基于波士顿郊区房价数据集 Boston 介绍处理回归问题的 10 种方法。数据集 Boston 来自 R 软件内置的 **MASS** 包，一共 506 条记录 14 个变量，由 Boston Standard Metropolitan Statistical Area (SMSA) 在 1970 年收集。

```{r}
data("Boston", package = "MASS")
str(Boston)
```

14 个变量的含义如下：

-   crim: 城镇人均犯罪率 per capita crime rate by town
-   zn: 占地面积超过25,000平方尺的住宅用地比例 proportion of residential land zoned for lots over 25,000 sq.ft.
-   indus: 每个城镇非零售业务的比例 proportion of non-retail business acres per town.
-   chas: 查尔斯河 Charles River dummy variable (= 1 if tract bounds river; 0 otherwise).
-   nox: 氮氧化物浓度 nitrogen oxides concentration (parts per 10 million).
-   rm: 每栋住宅的平均房间数量 average number of rooms per dwelling. 容积率
-   age: 1940年以前建造的自住单位比例 proportion of owner-occupied units built prior to 1940. 房龄
-   dis: 到波士顿五个就业中心的加权平均值 weighted mean of distances to five Boston employment centres. 商圈
-   rad: 径向高速公路可达性指数 index of accessibility to radial highways. 交通
-   tax: 每10,000美元的全额物业税率 full-value property-tax rate per \$10,000. 物业
-   ptratio: 城镇的师生比例 pupil-teacher ratio by town. 教育
-   black: 城镇黑人比例 $1000(Bk - 0.63)^2$ where Bk is the proportion of blacks by town. 安全
-   lstat: 较低的人口状况（百分比）lower status of the population (percent).
-   medv: 自住房屋的中位数为 1000 美元 median value of owner-occupied homes in \$1000s. 房价，这是响应变量

按照环境、交通、教育因素进一步分类。

## 线性回归 {#sec-linear-regressions}

对于线性回归问题，为了处理变量之间的相关关系，衍生出许多处理办法。有的办法是线性的，有的办法是非线性的。

### 普通最小二乘回归 {#sec-ordinary-least-square-regression}

```{r}
# lm ols
```

### 向前向后逐步回归 {#sec-stepwise-regression}

```{r}
# step()
```

### 偏最小二乘回归 {#sec-partial-least-square-regression}

```{r}
# pls::plsr()
```

### 主成分回归 {#sec-principal-component-regression}

```{r}
# pls::pcr()
```

## 惩罚回归 {#sec-penalty-regression}

### 岭回归 {#sec-ridge-regression}

### Lasso 回归 {#sec-lasso-regression}

### 弹性网络 {#sec-elastic-net-regression}

## 支持向量机

## 神经网络

## 决策树

## 随机森林

## 集成学习
